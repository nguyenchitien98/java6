<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
th:replace="~{/layout/index :: dynamic(~{::main})}">
<main>
<div >
	<h1 class="text-center">[[${title}]]</h1>
	<form th:action="@{/reset_password}" method="POST" style="max-width: 420px; margin: 0 auto;">
		<div class="panel panel-primary">
			<input type="hidden" name="token" th:value="${token}">
			<div class="panel-body">
			
			<div class="border border-secondary rounded p-3" >
			    <div>
			        <p>
			            <input type="password" name="password" id="password" class="form-control"
			                placeholder="Enter your new password" required autofocus />
			        </p>         
			        <p>
			            <input type="password" class="form-control" placeholder="Confirm your new password"
			                required oninput="checkPasswordMatch(this);" />
			        </p>         
			        <p class="text-center">
			            <input type="submit" value="Change Password" class="btn btn-primary" />
			        </p>
			    </div>
			</div>
			</div>
		</div>
	</form>
</div>
	<script type="text/javascript">
	function checkPasswordMatch(fieldConfirmPassword) {
	    if (fieldConfirmPassword.value != $("#password").val()) {
	        fieldConfirmPassword.setCustomValidity("Passwords do not match!");
	    } else {
	        fieldConfirmPassword.setCustomValidity("");
	    }
	}
	</script>
</main>